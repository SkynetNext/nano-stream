# Tendermint å­¦ä¹ æŒ‡å—

## ğŸ“š å­¦ä¹ è·¯å¾„

### ç¬¬ä¸€é˜¶æ®µï¼šç†è®ºåŸºç¡€
1. **æ‹œå åº­å®¹é”™ (BFT) åŸºç¡€**
   - ç†è§£åˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„å®¹é”™æ¦‚å¿µ
   - å­¦ä¹  PBFT (Practical Byzantine Fault Tolerance) ç®—æ³•
   - æŒæ¡å…±è¯†ç®—æ³•çš„å®‰å…¨æ€§ã€æ´»æ€§å’Œæœ€ç»ˆæ€§

2. **Tendermint æ ¸å¿ƒæ¦‚å¿µ**
   - ä¸‰é˜¶æ®µæäº¤ï¼šPropose â†’ Prevote â†’ Precommit
   - è§†å›¾å˜æ›´æœºåˆ¶
   - æœ€ç»ˆæ€§ä¿è¯
   - ç½‘ç»œé€šä¿¡æ¨¡å‹

### ç¬¬äºŒé˜¶æ®µï¼šæ¶æ„ç†è§£
1. **Tendermint æ¶æ„ç»„ä»¶**
   - **Consensus**: å…±è¯†å¼•æ“æ ¸å¿ƒ
   - **P2P**: ç‚¹å¯¹ç‚¹ç½‘ç»œå±‚
   - **RPC**: è¿œç¨‹è¿‡ç¨‹è°ƒç”¨æ¥å£
   - **ABCI**: åº”ç”¨åŒºå—é“¾æ¥å£

2. **æ ¸å¿ƒæ•°æ®ç»“æ„**
   - Block (åŒºå—)
   - Vote (æŠ•ç¥¨)
   - Proposal (æè®®)
   - State (çŠ¶æ€)

### ç¬¬ä¸‰é˜¶æ®µï¼šæºç å­¦ä¹ 
1. **å…³é”®æ¨¡å—æºç åˆ†æ**
   - `consensus/` - å…±è¯†ç®—æ³•å®ç°
   - `p2p/` - ç½‘ç»œé€šä¿¡å®ç°
   - `types/` - æ ¸å¿ƒæ•°æ®ç»“æ„
   - `abci/` - åº”ç”¨æ¥å£

2. **æ ¸å¿ƒç®—æ³•æµç¨‹**
   - åŒºå—æè®®æµç¨‹
   - æŠ•ç¥¨æ”¶é›†æœºåˆ¶
   - è§†å›¾å˜æ›´å¤„ç†
   - æœ€ç»ˆæ€§ç¡®è®¤

## ğŸ¯ é‡ç‚¹å­¦ä¹ å†…å®¹

### 1. å…±è¯†ç®—æ³•æ ¸å¿ƒ
```go
// ä¸‰é˜¶æ®µæäº¤æµç¨‹
type RoundStep int

const (
    RoundStepNewHeight     = RoundStep(0x01)
    RoundStepNewRound      = RoundStep(0x02)
    RoundStepPropose       = RoundStep(0x03)
    RoundStepPrevote       = RoundStep(0x04)
    RoundStepPrevoteWait   = RoundStep(0x05)
    RoundStepPrecommit     = RoundStep(0x06)
    RoundStepPrecommitWait = RoundStep(0x07)
    RoundStepCommit        = RoundStep(0x08)
)
```

### 2. ç½‘ç»œé€šä¿¡
- **Gossip åè®®**: æ¶ˆæ¯ä¼ æ’­æœºåˆ¶
- **è¿æ¥ç®¡ç†**: èŠ‚ç‚¹å‘ç°å’Œç»´æŠ¤
- **æ¶ˆæ¯ç±»å‹**: Proposalã€Voteã€BlockPart ç­‰

### 3. æ€§èƒ½ä¼˜åŒ–
- **æ‰¹é‡å¤„ç†**: å¤šä¸ªäº¤æ˜“æ‰“åŒ…
- **å¹¶è¡ŒéªŒè¯**: äº¤æ˜“éªŒè¯å¹¶è¡ŒåŒ–
- **å†…å­˜ç®¡ç†**: å¯¹è±¡æ± å’Œå†…å­˜å¤ç”¨

## ğŸ“– æ¨èå­¦ä¹ èµ„æº

### å®˜æ–¹æ–‡æ¡£
- [Tendermint å®˜æ–¹æ–‡æ¡£](https://docs.tendermint.com/)
- [Tendermint è§„èŒƒ](https://github.com/tendermint/spec)
- [ABCI æ–‡æ¡£](https://docs.tendermint.com/v0.34/app-dev/abci-cli.html)

### æŠ€æœ¯åšå®¢
- [Tendermint åšå®¢](https://blog.cosmos.network/)
- [Jae Kwon çš„æŠ€æœ¯æ–‡ç« ](https://medium.com/@jaekwon)

### è§†é¢‘æ•™ç¨‹
- [Tendermint å¼€å‘è€…æ•™ç¨‹](https://www.youtube.com/watch?v=6adk3nWXmWc)
- [å…±è¯†ç®—æ³•è¯¦è§£](https://www.youtube.com/watch?v=QmDnUfQwE1I)

### è®ºæ–‡å’Œå­¦æœ¯èµ„æº
- [PBFT åŸå§‹è®ºæ–‡](https://pmg.csail.mit.edu/papers/osdi99.pdf)
- [Tendermint è®ºæ–‡](https://arxiv.org/abs/1807.04938)

## ğŸ”§ å®è·µé¡¹ç›®

### 1. æ­å»ºæœ¬åœ°æµ‹è¯•ç½‘ç»œ
```bash
# å®‰è£… Tendermint
go install github.com/tendermint/tendermint/cmd/tendermint@latest

# åˆå§‹åŒ–èŠ‚ç‚¹
tendermint init

# å¯åŠ¨èŠ‚ç‚¹
tendermint node
```

### 2. å¼€å‘ç®€å•åº”ç”¨
- å®ç° ABCI æ¥å£
- åˆ›å»ºç®€å•çš„çŠ¶æ€æœº
- å¤„ç†äº¤æ˜“å’ŒæŸ¥è¯¢

### 3. æºç é˜…è¯»è®¡åˆ’
- **Week 1**: `consensus/state.go` - å…±è¯†çŠ¶æ€ç®¡ç†
- **Week 2**: `consensus/round_state.go` - è½®æ¬¡çŠ¶æ€
- **Week 3**: `consensus/reactor.go` - å…±è¯†ååº”å™¨
- **Week 4**: `p2p/` - ç½‘ç»œå±‚å®ç°

## ğŸ¯ å­¦ä¹ ç›®æ ‡

### ç†è§£å±‚é¢
- [ ] æŒæ¡ PBFT ç®—æ³•åŸç†
- [ ] ç†è§£ Tendermint ä¸‰é˜¶æ®µæäº¤
- [ ] ç†Ÿæ‚‰ç½‘ç»œé€šä¿¡æœºåˆ¶
- [ ] äº†è§£æ€§èƒ½ä¼˜åŒ–æŠ€æœ¯

### å®è·µå±‚é¢
- [ ] èƒ½å¤Ÿæ­å»ºæµ‹è¯•ç½‘ç»œ
- [ ] å®ç°ç®€å•çš„ ABCI åº”ç”¨
- [ ] ç†è§£æºç æ¶æ„
- [ ] èƒ½å¤Ÿè¿›è¡Œæ€§èƒ½è°ƒä¼˜

### åº”ç”¨å±‚é¢
- [ ] è®¾è®¡å…±è¯†ç®—æ³•
- [ ] ä¼˜åŒ–ç½‘ç»œæ€§èƒ½
- [ ] å¤„ç†æ•…éšœåœºæ™¯
- [ ] å®ç°æœ€ç»ˆæ€§ä¿è¯

## ğŸš€ è¿›é˜¶å­¦ä¹ 

### 1. æ€§èƒ½ä¼˜åŒ–
- ç½‘ç»œå»¶è¿Ÿä¼˜åŒ–
- ååé‡æå‡
- å†…å­˜ä½¿ç”¨ä¼˜åŒ–
- å¹¶å‘å¤„ç†ä¼˜åŒ–

### 2. å®‰å…¨æ€§ç ”ç©¶
- æ”»å‡»å‘é‡åˆ†æ
- å®‰å…¨è¯æ˜ç†è§£
- æ•…éšœæ¢å¤æœºåˆ¶
- ç½‘ç»œåˆ†åŒºå¤„ç†

### 3. æ‰©å±•æ€§è®¾è®¡
- åˆ†ç‰‡æŠ€æœ¯
- è·¨é“¾é€šä¿¡
- è½»å®¢æˆ·ç«¯
- çŠ¶æ€åŒæ­¥

## ğŸ“ å­¦ä¹ ç¬”è®°æ¨¡æ¿

### æ¯æ—¥å­¦ä¹ è®°å½•
```markdown
## æ—¥æœŸ: YYYY-MM-DD

### ä»Šæ—¥å­¦ä¹ å†…å®¹
- [ ] æ¨¡å—: 
- [ ] åŠŸèƒ½: 
- [ ] å…³é”®ä»£ç : 

### ç†è§£è¦ç‚¹
1. 
2. 
3. 

### ç–‘é—®å’Œæ€è€ƒ
- 
- 

### æ˜æ—¥è®¡åˆ’
- [ ] 
- [ ] 
```

### æºç åˆ†ææ¨¡æ¿
```markdown
## æ–‡ä»¶: path/to/file.go

### åŠŸèƒ½æ¦‚è¿°
- ä¸»è¦èŒè´£:
- æ ¸å¿ƒæ¥å£:
- å…³é”®æ–¹æ³•:

### æ•°æ®ç»“æ„
```go
type XXX struct {
    // å­—æ®µè¯´æ˜
}
```

### æ ¸å¿ƒç®—æ³•
- ç®—æ³•æè¿°:
- å…³é”®æ­¥éª¤:
- æ€§èƒ½è€ƒè™‘:

### å­¦ä¹ å¿ƒå¾—
- 
```

## ğŸ¯ å­¦ä¹ å»ºè®®

1. **å¾ªåºæ¸è¿›**: ä»ç†è®ºåˆ°å®è·µï¼Œä»ç®€å•åˆ°å¤æ‚
2. **åŠ¨æ‰‹å®è·µ**: å¤šå†™ä»£ç ï¼Œå¤šè°ƒè¯•ï¼Œå¤šå®éªŒ
3. **æ·±å…¥æºç **: ç†è§£å®ç°ç»†èŠ‚ï¼ŒæŒæ¡è®¾è®¡æ¨¡å¼
4. **æ€§èƒ½å…³æ³¨**: å…³æ³¨å»¶è¿Ÿã€ååé‡ã€èµ„æºä½¿ç”¨
5. **å®‰å…¨è€ƒè™‘**: ç†è§£æ”»å‡»åœºæ™¯ï¼ŒæŒæ¡é˜²æŠ¤æœºåˆ¶

## ğŸ“š ç›¸å…³æŠ€æœ¯æ ˆ

- **Go è¯­è¨€**: æŒæ¡ Go å¹¶å‘ç¼–ç¨‹
- **ç½‘ç»œç¼–ç¨‹**: ç†è§£ TCP/UDPã€P2P ç½‘ç»œ
- **å¯†ç å­¦**: æ•°å­—ç­¾åã€å“ˆå¸Œå‡½æ•°ã€å¯†é’¥ç®¡ç†
- **åˆ†å¸ƒå¼ç³»ç»Ÿ**: ä¸€è‡´æ€§ã€å®¹é”™ã€æ€§èƒ½ä¼˜åŒ–
- **åŒºå—é“¾**: åŒºå—ç»“æ„ã€äº¤æ˜“å¤„ç†ã€çŠ¶æ€ç®¡ç†

---

*æŒç»­æ›´æ–°ä¸­...*
